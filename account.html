<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Account – Starplanner</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@400;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family:'Montserrat Alternates',sans-serif;
      margin:0;
      background:#fff;
      color:#333;
    }

    nav {
      background-image:url('ArtworkWaterverfkwastachterkopjes.jpg');
      background-repeat:no-repeat;
      background-position:center;
      background-size:120% 110%;
      padding:40px 60px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    nav ul{list-style:none;margin:0;padding:0;display:flex;gap:70px;padding-left:100px;}
    nav ul li a{text-decoration:none;color:white;font-size:18px;font-weight:600;text-shadow:1px 1px 3px rgba(0,0,0,0.3);}
    nav ul li a:hover{color:#FF7929;}
    .nav-icons{display:flex;gap:30px;align-items:center;position:relative;}
    .nav-icons img{width:36px;height:36px;cursor:pointer;}
    .cart-link{position:relative;}
    .cart-badge{position:absolute;top:-6px;right:-6px;background:#FF6F61;color:#fff;font-size:12px;font-weight:600;padding:2px 6px;border-radius:50%;min-width:18px;text-align:center;}

    main{max-width:1100px;margin:60px auto;padding:0 20px;}

    /* Account dashboard */
    .account-shell{
      display:grid;
      grid-template-columns:260px 1fr;
      gap:24px;
      align-items:start;
    }
    .sidebar{
      position:sticky;
      top:20px;
      background:#FFFDF6;
      border-radius:20px;
      padding:26px;
      box-shadow:0 6px 14px rgba(0,0,0,0.08);
    }
    .side-title{
      background:linear-gradient(90deg,#FFB84C,#FFD46A);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-size:26px;
      font-family:'Playfair Display',serif;
      font-weight:700;
      margin:0 0 18px;
    }
    .side-nav{display:flex;flex-direction:column;gap:10px;}
    .side-nav button{
      text-align:left;
      background:white;
      border:2px solid #FFE7A0;
      border-radius:12px;
      padding:10px 14px;
      cursor:pointer;
      font-family:'Playfair Display',serif;
      font-size:17px;
      color:#C57300;
      transition:all .2s ease;
    }
    .side-nav button:hover,
    .side-nav button.active{
      background:#FFF5CC;
      border-color:#FFD46A;
    }

    .content{
      background:#FFFDF6;
      border-radius:20px;
      padding:40px;
      box-shadow:0 6px 14px rgba(0,0,0,0.06);
      min-height:500px;
    }

    /* Avatar + Welcome */
    .welcome-area{
      text-align:center;
      margin-bottom:40px;
    }
    .avatar{
      width:100px;
      height:100px;
      border-radius:50%;
      margin:0 auto 18px;
      background:linear-gradient(160deg,#FFFBE3,#FFEABF);
      border:4px solid #FFA94D;
      box-shadow:0 4px 10px rgba(255,170,70,0.25);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .avatar-inner{
      width:60px;
      height:60px;
      border-radius:50%;
      background:radial-gradient(circle at 30% 30%,#FFEDB8,#FFD883);
    }
    .welcome-area h1{
      font-family:'Playfair Display',serif;
      font-size:42px;
      background:linear-gradient(90deg,#FFA84B,#FFD35E);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      margin:0;
    }

    /* Section titles */
    .section-title{
      font-family:'Playfair Display',serif;
      color:white;
      background:linear-gradient(90deg,#FFD974,#FFB84C);
      -webkit-background-clip:text;
      -webkit-text-stroke:1px #FFE9A6;
      -webkit-text-fill-color:transparent;
      font-size:26px;
      margin:0 0 14px;
    }

    .muted{color:#6b6b6b;font-size:14px;}

    /* Orders */
    .orders p{color:#A05A00;}
    .order{
      background:white;
      border:2px solid #FFD46A;
      border-radius:14px;
      padding:16px;
      margin-bottom:14px;
    }
    .order h4{margin:0 0 8px;color:#C47300;font-family:'Playfair Display';}

    /* Buttons */
    .btn{
      display:inline-block;
      background:#FFC04D;
      color:white;
      border:none;
      border-radius:10px;
      padding:12px 20px;
      cursor:pointer;
      font-weight:700;
      font-family:'Montserrat Alternates';
      font-size:15px;
      transition:background .2s;
    }
    .btn:hover{background:#EAA23D;}
    .logout-btn{
      display:block;
      width:100%;
      background:#FF9A6A;
      color:white;
      border:none;
      border-radius:14px;
      padding:14px 20px;
      font-size:17px;
      font-weight:700;
      font-family:'Playfair Display',serif;
      box-shadow:0 4px 10px rgba(255,160,110,0.3);
      margin-top:24px;
      cursor:pointer;
      transition:all .2s ease;
    }
    .logout-btn:hover{background:#FF864F;transform:translateY(-1px);}

    /* Footer */
    footer{position:relative;margin:60px 0 0;overflow:hidden;}
    .footer-decoration{width:100%;height:100px;object-fit:cover;display:block;}
    .footer-text{position:absolute;bottom:10px;width:100%;text-align:center;color:#fff;font-size:14px;text-shadow:1px 1px 3px rgba(0,0,0,0.5);}
  </style>
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="thestorybehind.html">THE STORY BEHIND</a></li>
        <li><a href="shop.html">SHOP</a></li>
        <li><a href="plannertips.html">PLANNER TIPS</a></li>
        <li><a href="contact.html">CONTACT</a></li>
      </ul>
      <div class="nav-icons">
        <a href="account.html"><img src="user-icon.svg" alt="User"></a>
        <a href="checkout.html" class="cart-link">
          <img src="shoppingbag.svg" alt="Shopping Bag">
          <span class="cart-badge" id="cart-count">0</span>
        </a>
      </div>
    </nav>
  </header>

  <main>
    <section id="account-section">
      <div class="account-shell">
        <aside class="sidebar">
          <p class="side-title">My Account</p>
          <div class="side-nav">
            <button class="active" data-target="sec-welcome">Welcome</button>
            <button data-target="sec-orders">Orders</button>
            <button data-target="sec-addresses">Address</button>
            <button data-target="sec-security">Security</button>
            <button data-target="sec-preferences">Preferences</button>
            <button data-target="sec-returns">Returns</button>
          </div>
          <button class="logout-btn" onclick="logout()">Sign out</button>
        </aside>

        <div class="content">
          <section id="sec-welcome">
            <div class="welcome-area">
              <div class="avatar"><div class="avatar-inner"></div></div>
              <h1 id="welcome-name">Welcome</h1>
              <div id="verify-note" class="muted" style="display:none;">Your email is not verified yet. Please check your inbox.</div>
            </div>
          </section>

          <section id="sec-orders" style="display:none;">
            <h3 class="section-title">My Orders</h3>
            <div id="orders" class="orders"><p class="muted">Loading orders…</p></div>
          </section>

          <section id="sec-addresses" style="display:none;">
            <h3 class="section-title">Shipping Address</h3>
            <form id="form-ship" class="grid-1" style="max-width:500px;">
              <input id="ship_name" placeholder="Full name">
              <input id="ship_line1" placeholder="Address line 1">
              <input id="ship_line2" placeholder="Address line 2 (optional)">
              <input id="ship_city" placeholder="City">
              <input id="ship_postal" placeholder="Postal code">
              <input id="ship_country" placeholder="Country">
              <button type="button" class="btn" onclick="saveAddress('shipping')">Save</button>
            </form>
          </section>

          <section id="sec-security" style="display:none;">
            <h3 class="section-title">Security</h3>
            <div class="grid-1" style="max-width:500px;">
              <input type="password" id="cur_pass" placeholder="Current password">
              <input type="password" id="new_pass" placeholder="New password">
              <input type="password" id="new_pass_repeat" placeholder="Repeat new password">
              <button type="button" class="btn" onclick="changePassword()">Update password</button>
            </div>
          </section>

          <section id="sec-preferences" style="display:none;">
            <h3 class="section-title">Preferences</h3>
            <select id="pref-lang" class="form-field" style="padding:10px;border:2px solid #FFD46A;border-radius:10px;">
              <option value="en">English</option>
              <option value="nl">Nederlands</option>
            </select>
          </section>

          <section id="sec-returns" style="display:none;">
            <h3 class="section-title">Return Item</h3>
            <form id="form-return" class="grid-1" style="max-width:500px;">
              <input id="ret_order" placeholder="Order ID">
              <input id="ret_reason" placeholder="Reason">
              <button type="button" class="btn" onclick="submitReturn()">Submit return request</button>
            </form>
          </section>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <img src="ArtworkWaterverfkwastfootheader.jpg" alt="Footer Decoration" class="footer-decoration">
    <div class="footer-text">© 2025 Starplanner – All rights reserved.</div>
  </footer>

  <script>
    const firebaseConfig = {
      apiKey:"AIzaSyApt-W5-Ag4Ov2JxVcudSrV4VL0zCBE8pc",
      authDomain:"starplanner-3acf9.firebaseapp.com",
      projectId:"starplanner-3acf9",
      storageBucket:"starplanner-3acf9.firebasestorage.app",
      messagingSenderId:"793684440573",
      appId:"1:793684440573:web:5beb2ab6f64b4fc110d594"
    };
    firebase.initializeApp(firebaseConfig);
    const auth=firebase.auth();
    const db=firebase.firestore();

    auth.onAuthStateChanged(async user=>{
      if(user){
        document.getElementById('welcome-name').textContent = `Welcome, ${user.email.split('@')[0]}`;
        document.getElementById('verify-note').style.display = user.emailVerified ? 'none' : 'block';
      }
    });

    document.querySelectorAll('.side-nav button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.side-nav button').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const tgt = btn.getAttribute('data-target');
        document.querySelectorAll('.content > section').forEach(s=> s.style.display = (s.id===tgt ? 'block' : 'none'));
      });
    });

    function logout(){ auth.signOut(); }
  </script>
</body>
</html>
