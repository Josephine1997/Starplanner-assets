met roze slierten

  <footer>
    <img src="ArtworkWaterverfkwastfootheader.jpg" alt="Footer Decoration" class="footer-decoration">
    <div class="footer-text">© 2025 Starplanner – All rights reserved.</div>
  </footer>

  <!-- 🔊 Geluidseffecten -->
  <audio id="sound-whoosh" src="whoosh-soft.mp3" preload="auto"></audio>
  <audio id="sound-chime" src="sparkle-chime.mp3" preload="auto"></audio>

  <!-- ✅ Firebase compat SDK -->
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyApt-W5-Ag4Ov2JxVcudSrV4VL0zCBE8pc",
      authDomain: "starplanner-3acf9.firebaseapp.com",
      projectId: "starplanner-3acf9",
      storageBucket: "starplanner-3acf9.firebasestorage.app",
      messagingSenderId: "793684440573",
      appId: "1:793684440573:web:5beb2ab6f64b4fc110d594"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const cartContainer = document.getElementById('cart-items');
    const subtotalEl = document.getElementById('subtotal');
    const cartCount = document.getElementById('cart-count');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cartCount.textContent = cart.length;

    function renderCart() {
      cartContainer.innerHTML = '';
      let total = 0;
      if (cart.length === 0) {
        cartContainer.innerHTML = `<div class="empty-cart">Your cart is empty</div>`;
      } else {
        cart.forEach((item, index) => {
          const div = document.createElement('div');
          div.classList.add('cart-item');
          div.innerHTML = `
            <div style="display:flex; align-items:center;">
              <img src="shoppingbag.svg" alt="${item.name}">
              <div class="product-info">
                <div>${item.name}</div>
                <div class="remove" onclick="removeItem(${index})">REMOVE</div>
              </div>
            </div>
            <div>
              €${item.price.toFixed(2)} <br>
              <div class="qty-controls">
                <button class="qty-btn" onclick="updateQty(${index}, -1)">–</button>
                <span class="qty-box">${item.qty}</span>
                <button class="qty-btn" onclick="updateQty(${index}, 1)">+</button>
              </div>
            </div>
          `;
          cartContainer.appendChild(div);
          total += item.price * item.qty;
        });
      }
      subtotalEl.textContent = total.toFixed(2);
    }

    function removeItem(index) {
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      cartCount.textContent = cart.length;
      renderCart();
    }

    function updateQty(index, delta) {
      cart[index].qty += delta;
      if (cart[index].qty < 1) cart[index].qty = 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    async function placeOrder() {
      const user = auth.currentUser;
      if (!user) {
        alert("You must be logged in to complete your order.");
        return;
      }
      if (cart.length === 0) {
        alert("Your cart is empty.");
        return;
      }

      const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);

      try {
        await db.collection('orders').add({
          userId: user.uid,
          email: user.email,
          items: cart,
          total: totalAmount,
          date: firebase.firestore.FieldValue.serverTimestamp()
        });

        alert("✅ Your order has been placed successfully!");
        localStorage.removeItem('cart');
        window.location.href = "account.html";
      } catch (error) {
        alert("❌ Error placing order: " + error.message);
      }
    }

    renderCart();

    // 🌟 Stardust animatie met kleurverloop, trailing, explosie & geluid
    window.addEventListener('load', () => {
      const stardustContainer = document.getElementById('stardust');
      const overlay = document.getElementById('stardust-overlay');
      const soundWhoosh = document.getElementById('sound-whoosh');
      const soundChime = document.getElementById('sound-chime');

      const justAdded = localStorage.getItem('justAdded') === 'true';
      localStorage.removeItem('justAdded');

      const stars = [];
      const numStars = 50;

      const starColors = [
        'radial-gradient(circle, #ffffff 0%, #fff5c3 40%, rgba(255,255,255,0) 100%)',
        'radial-gradient(circle, #fff6d9 0%, #ffeab5 40%, rgba(255,255,255,0) 100%)',
        'radial-gradient(circle, #ffe6e9 0%, #ffd2fa 40%, rgba(255,255,255,0) 100%)',
        'radial-gradient(circle, #fff9e0 0%, #ffeab5 40%, rgba(255,255,255,0) 100%)'
      ];

      for (let i = 0; i < numStars; i++) {
        const star = document.createElement('span');
        star.classList.add('star');
        const size = Math.random() * 2.5 + 1;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.top = `${Math.random() * 100}%`;
        star.style.left = `${Math.random() * 100}%`;
        star.style.background = starColors[Math.floor(Math.random() * starColors.length)];
        star.style.boxShadow = `0 0 ${4 + Math.random() * 4}px ${Math.random() * 2}px rgba(255,240,220,0.8)`;
        star.style.animationDelay = `${Math.random() * 2}s`;
        stardustContainer.appendChild(star);
        stars.push(star);
      }

      if (!justAdded) {
        // standaard fade-out
        setTimeout(() => {
          overlay.style.opacity = '0';
          overlay.style.transition = 'opacity 1s ease';
          setTimeout(() => overlay.style.display = 'none', 1000);
        }, 2500);
      } else {
        // 🌪️ swirl met geluid
        setTimeout(() => {
          const target = document.querySelector('.cart-item img') || document.querySelector('img[alt="Shopping Bag"]');
          if (!target) return;

          // start zacht whoosh-geluid
          soundWhoosh.currentTime = 0;
          soundWhoosh.volume = 0.4;
          soundWhoosh.play().catch(()=>{});

          const rect = target.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;

          stars.forEach((star, i) => {
            const swirlDuration = 1600 + Math.random() * 400;
            const angle = Math.random() * Math.PI * 2;
            const delay = Math.random() * 300;
            star.style.transition = `top ${swirlDuration}ms cubic-bezier(0.45, 0, 0.55, 1), left ${swirlDuration}ms cubic-bezier(0.45, 0, 0.55, 1), transform ${swirlDuration}ms ease-in-out, opacity 2s ease`;
            star.style.filter = 'drop-shadow(0 0 10px rgba(255,240,210,0.9))';

            setTimeout(() => {
              const targetX = centerX + Math.cos(angle + i / 3) * 5;
              const targetY = centerY + Math.sin(angle + i / 3) * 5;
              star.style.top = `${targetY}px`;
              star.style.left = `${targetX}px`;
              star.style.transform = `scale(0.4) rotate(${angle * 5}rad)`;
            }, delay);
          });

          // 💥 explosie + chime
          setTimeout(() => {
            soundChime.currentTime = 0;
            soundChime.volume = 0.6;
            soundChime.play().catch(()=>{});

            // flare toevoegen
            const flare = document.createElement('div');
            flare.style.position = 'fixed';
            flare.style.top = `${centerY - 75}px`;
            flare.style.left = `${centerX - 75}px`;
            flare.style.width = '150px';
            flare.style.height = '150px';
            flare.style.borderRadius = '50%';
            flare.style.background = 'radial-gradient(circle, rgba(255,255,240,0.9) 0%, rgba(255,220,100,0.6) 40%, rgba(255,150,150,0.4) 70%, rgba(255,255,255,0) 100%)';
            flare.style.boxShadow = '0 0 60px 30px rgba(255,230,180,0.8)';
            flare.style.pointerEvents = 'none';
            flare.style.opacity = '0';
            flare.style.transition = 'opacity 0.5s ease-out, transform 1s ease-in-out';
            flare.style.zIndex = '10000';
            stardustContainer.appendChild(flare);

            setTimeout(() => {
              flare.style.opacity = '1';
              flare.style.transform = 'scale(1.4)';
              setTimeout(() => {
                flare.style.opacity = '0';
                flare.style.transform = 'scale(2)';
                setTimeout(() => flare.remove(), 1000);
              }, 600);
            }, 100);
          }, 1500);

          // 🌌 fade-out
          setTimeout(() => {
            overlay.style.opacity = '0';
            overlay.style.transition = 'opacity 1.6s ease-in-out';
            setTimeout(() => overlay.style.display = 'none', 1000);
          }, 3700);
        }, 2500);
      }
    });
  </script>
</body>
</html>


